CREATE TABLE [dbo].[Form] (
    [FormID] [bigint] NOT NULL IDENTITY,
    [FormName] [nvarchar](50) NOT NULL,
    [Url] [nvarchar](250) NOT NULL,
    CONSTRAINT [PK_dbo.Form] PRIMARY KEY ([FormID])
)
CREATE TABLE [dbo].[AspNetRoles] (
    [Id] [nvarchar](128) NOT NULL,
    [Name] [nvarchar](max) NOT NULL,
    CONSTRAINT [PK_dbo.AspNetRoles] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[State] (
    [StateID] [bigint] NOT NULL IDENTITY,
    [StateName] [nvarchar](50) NOT NULL,
    [Active] [bit] NOT NULL,
    CONSTRAINT [PK_dbo.State] PRIMARY KEY ([StateID])
)
CREATE TABLE [dbo].[AspNetUsers] (
    [Id] [nvarchar](128) NOT NULL,
    [UserName] [nvarchar](max),
    [PasswordHash] [nvarchar](max),
    [SecurityStamp] [nvarchar](max),
    [Discriminator] [nvarchar](128) NOT NULL,
    CONSTRAINT [PK_dbo.AspNetUsers] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[AspNetUserClaims] (
    [Id] [int] NOT NULL IDENTITY,
    [ClaimType] [nvarchar](max),
    [ClaimValue] [nvarchar](max),
    [User_Id] [nvarchar](128) NOT NULL,
    CONSTRAINT [PK_dbo.AspNetUserClaims] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_User_Id] ON [dbo].[AspNetUserClaims]([User_Id])
CREATE TABLE [dbo].[AspNetUserLogins] (
    [UserId] [nvarchar](128) NOT NULL,
    [LoginProvider] [nvarchar](128) NOT NULL,
    [ProviderKey] [nvarchar](128) NOT NULL,
    CONSTRAINT [PK_dbo.AspNetUserLogins] PRIMARY KEY ([UserId], [LoginProvider], [ProviderKey])
)
CREATE INDEX [IX_UserId] ON [dbo].[AspNetUserLogins]([UserId])
CREATE TABLE [dbo].[AspNetUserRoles] (
    [UserId] [nvarchar](128) NOT NULL,
    [RoleId] [nvarchar](128) NOT NULL,
    CONSTRAINT [PK_dbo.AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId])
)
CREATE INDEX [IX_RoleId] ON [dbo].[AspNetUserRoles]([RoleId])
CREATE INDEX [IX_UserId] ON [dbo].[AspNetUserRoles]([UserId])
CREATE TABLE [dbo].[Workflow] (
    [WorkflowID] [bigint] NOT NULL IDENTITY,
    [WorkflowName] [nvarchar](150) NOT NULL,
    CONSTRAINT [PK_dbo.Workflow] PRIMARY KEY ([WorkflowID])
)
CREATE TABLE [dbo].[WorkflowStateTransition] (
    [WorkflowStateTransitionID] [bigint] NOT NULL IDENTITY,
    [WorkflowID] [bigint] NOT NULL,
    [InitialStateID] [bigint] NOT NULL,
    [FinalStateID] [bigint] NOT NULL,
    [FormID] [bigint] NOT NULL,
    CONSTRAINT [PK_dbo.WorkflowStateTransition] PRIMARY KEY ([WorkflowStateTransitionID])
)
CREATE INDEX [IX_FinalStateID] ON [dbo].[WorkflowStateTransition]([FinalStateID])
CREATE INDEX [IX_FormID] ON [dbo].[WorkflowStateTransition]([FormID])
CREATE INDEX [IX_InitialStateID] ON [dbo].[WorkflowStateTransition]([InitialStateID])
CREATE INDEX [IX_WorkflowID] ON [dbo].[WorkflowStateTransition]([WorkflowID])
ALTER TABLE [dbo].[AspNetUserClaims] ADD CONSTRAINT [FK_dbo.AspNetUserClaims_dbo.AspNetUsers_User_Id] FOREIGN KEY ([User_Id]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[AspNetUserLogins] ADD CONSTRAINT [FK_dbo.AspNetUserLogins_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[AspNetUserRoles] ADD CONSTRAINT [FK_dbo.AspNetUserRoles_dbo.AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [dbo].[AspNetRoles] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[AspNetUserRoles] ADD CONSTRAINT [FK_dbo.AspNetUserRoles_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[WorkflowStateTransition] ADD CONSTRAINT [FK_dbo.WorkflowStateTransition_dbo.State_FinalStateID] FOREIGN KEY ([FinalStateID]) REFERENCES [dbo].[State] ([StateID])
ALTER TABLE [dbo].[WorkflowStateTransition] ADD CONSTRAINT [FK_dbo.WorkflowStateTransition_dbo.Form_FormID] FOREIGN KEY ([FormID]) REFERENCES [dbo].[Form] ([FormID])
ALTER TABLE [dbo].[WorkflowStateTransition] ADD CONSTRAINT [FK_dbo.WorkflowStateTransition_dbo.State_InitialStateID] FOREIGN KEY ([InitialStateID]) REFERENCES [dbo].[State] ([StateID])
ALTER TABLE [dbo].[WorkflowStateTransition] ADD CONSTRAINT [FK_dbo.WorkflowStateTransition_dbo.Workflow_WorkflowID] FOREIGN KEY ([WorkflowID]) REFERENCES [dbo].[Workflow] ([WorkflowID]) ON DELETE CASCADE
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201401280308005_Initial', N'IAS.Models.ApplicationDbContext',  0x1F8B0800000000000400ED5DDB6EE4B8117D0F907F10F4B41B60DDB637092683EE5D78EC71D6C8DA1E4C7B368F035A62B785D5A523B1BDF6B7E5613F697F21A4AEA478D7B5DBC8CBA02D9155C5AAC3225962D5FCF1DFDF973FBE44A1F30CD32C48E2957B7672EA3A30F6123F88B72B778F36DFBD737FFCE1CF7F5A7EF4A317E797AADDF7A41DEE19672BF709A1DDFBC522F39E6004B29328F0D2244B36E8C44BA205F093C5F9E9E93F1667670B8849B89896E32C3FEF63144430FF03FF7999C41EDCA13D086F131F8659F91CBF59E7549D3B10C16C073CB8726F2ED627452BD7B90803802558C370E33A208E13041096EFFD970CAE519AC4DBF50E3F00E1C3EB0EE2761B1066B094FB7DD3DC7408A7E764088BA6632715B8F5E0F0F03E6235A057225E3EC4957B9DA44C0BDCE65FF09579801F7D4A931D4CD1EB67B8A1FADD5CB9CE82EDBB6877AEBBB6FA1111B06E63F4F7BFBACEDD3E0CC163086B8D51AA5DA32485FF84314C0182FE2780104CB1066F7C980F859340C08FFCAA38623361A4B9CE2D78F919C65BF4B472FF86A1751DBC40BF7A500AF1250E302E711F94EEA1404835E32F69A8E0793E04D3E5A231A7D2C895B23E2721EC62EC1BDFDED0A48F74F867E7EFC6D0B9C6D0F8E7844A5F630077D276DEB1CBDCAA3B4E35B97286B3CCAE0B0F05CF35DB0F0906368887B2DCC56E17065EAE21ECD853D7F90032580E107BFE934A3DC5CB85D1D4236D2F43107472B6FDE61FC6C1F7E7A3E2201F186136C0E433E0F40B08F723B0BA03CFC136D747DB95E776FE0CC3FC65F614EC0440C825FB5A34BD4E9388F85A81F9F3165FD7C93EF5C8101265B307906E21EAE9F47391DEB0D327E31BC8F1AB197D0259F65B92FA3F81EC6974666BE8ED536C3DEC62A3DD8458CFD1970D8BF60AC61AB45793C254D49F936D10EB45CD9B29456D5A2845A59AD98A4A88E92525AD9482D60D947236AD446276F21FF9D0BB3811D2997724C2A6390FFCF839F0DBCBAAA447D5184B62EFAA2AC9A67657AD614ECD9ED1D9E8CCFB2DA9563357B5A40A2678EF29D1F52C653123088B2EABF05CD0AEE49D0F56B9518CDC6CD152E166F37F54A06A5A8930D51BFC168B8156CAFEC8FF7792FEBA0993DFBA20BEEADBE5484BF79DEA545BF1D46C2ACF260DE15442E547EE8714C4599047047BD8A345AA8F7904A4A6B6969EA79ACE4D1C90C8AD610C4513740CE2A12819854B4D1D4F2397D0FD48ACF995EED6F8227D6BCE311974B1F5A579FCDA6A3079078361E076E603208D6D45C788F3822EF6603BEA8742B7371E12D3C97668F5726133ACA6937E48D573E3E1D41D6C96C18B2C4BB0120801D9A1E8AB20BCF231F61DB3BDAA38A6589CB69CDB7D88021289C48F57EE5F38ED6BD9D4874459E892E570E6B6D78EFBF80A86104187845BC977AB4B9079C0E73D0ED69FCF3EC1CB0D4C092F105E62EBA3140431E2D7A620F6821D088DC6D1EA6D18B422D2D57CDA6FAEE00EC684A991BD4C04906EEF1735AF96EA749A5A2E28189AA3B3D9E59AA046B0E51583A6D837778326BF6316301131382C6472C39818989CAD4CF88BCF9273E1D2D8690A0E3923E1F2F83D26378C397079B4FE928A689B6046F431470C9AE2AB5F47688AA2E85363D342A1062708D9A86D8E138D0664C7620B755B1C4A28C6E5E6FBD0FC81F9604C26A7E42682958730B7AB8944ECC97A16A7A13C585A838C39654E836BFAAC4AB12C0EC64703686A1446C011DE571B06C9940DFB8932237A9998822DA4C4018649D02C0C531CAF9F160D676E4F2DB2AED1D6B215513D28BC4B3E68E801C7479E26C13917BF12B03D1E98B747630227F967A44150DEB66B7F9106477711A4C47D10EE0153FEB6E2D52379095F10876AD2710D11B50265AED3043D992D00874DB673799785EBCC0670344472ED8BA894FE5AD39D3B22A904A20E6116647514AD885557959414CBB0AF05599D299AC0888668056411B1C6BB181269CD2C154DCE51B658501341A1D8F23339D5587D99A43D538DE3F5F588C5D6E55C8071845E4298A3C9B806DCDC525BD4CD07B5B224C1638BF0B1644425620D35C5078C29B242524328C8044D9228A6451C733805CD8124FAFEA75A53B2B89A4D644D32A8CAF31B2A4B104B1B515B261FD379CDD906D0BA86D0A881CBDDB642AF1641338A55B5EA8FA7DC7C0363A1562E66631FB5194D95749C8662526EDE46D3217BBBC05C97F20842F718C258BA15460DA6046AB3A93257B0F8C8DAEDD03A9662B963AA80918D5EAB9B19F5A1A77EB75C14A9BAE583E54292D3BBBC05BB5D106FA91CDFF289B32E127C2FBF5BDB27D646058D859709F26B6B696B4E2849C116B6DE62D658D2EB20CDD01540E01190BB5C977EC435B339E2552CE9931E6FC76A3F5EB526BFCB55BE4E773E1179C7467DD77844113957E717F85A0E8AEFE690DC6A10825472C3ED3209F751AC8E90AAA914F735DB748AA7E694F2BC5D9A48FE80EFBF5CB4F4C09DFF392D732116D66446062DF6871D0D2ACF033632ACBABB4CA1E4EB2EAD4FD1D75E796FDEA83283CE649072A9E86811E16A69600A493F9916EB182CAD4869605643873709F5D89C5695C24B13AA9E1D8C75D953414723B7F389BBCF3C71F7DE330F2F297EBE7E3B796AAD20039A267315645E1A4478A78FA51CC3563ACD66E4F7FDE61B816723D27E7B780A16AF345995B8CA2C37F553734A6C662A4D8D7D6331D1D9F45366B2B3AFA637BFD8EA8767746E56B1E1E349A7D400EEAF8CB60C602A411D046B7B49688C3353A9FA063411EAB125ADB2820147AC7C7E90F62FA3DC03D85F904D6C6D7F090D95AF6D634076F5504EA595BB4B13D3642FCB693209B98CEB9667371F082206398B887369ADF160772619060ED59D6A9A8AEC9EF56C066BA22E1D0D250B3B191848DE55A652FA8B3AAD56D597763D357E97C5BE39386371B1B89EB653668D5A99524B49670B41AAA8C830DAE4D4E950D4BEC7C4EC2334779CE454D99BAC4CD44A79C75541D12A923636C2D990AE665B597E4934DB39968DAD7787247CCD6D0B559F07799D19ED2D7312E29C064A82CEC249EF2775DEF8CAE56A47E6794B7301FA76931A6775A0BE15905F96C1717D254E2E5A5E34719D6AAB840FA7AF1982D1096970B2FE4F78190658874D835B10071B98A187E45718AFDCF3D3D377ADA29E1D0A6C2EB2CC0F0FB9CAE66380F7A6A89C31AA4CFB0EC9E9C5025AF0899F41EA3D8194ABFFD7BD74A690E4B996E69154C6148E2E2F92D2A3F06545F49B08BC7CFB668A598E8561AE84E55020662B543E066868C80A52D58E09B24D9C5303DBAEA5F97A111496DFEB45B115E2EBA5CD4E5899A9FAE828B3962B38DACB347C51D15EE4EAFDDFF4367EF375FA06733FC2327C83511754D99B120647539B6E3085B3A5E7C6D6F5E154431B6B5B24AA8126D6EA707BF1232D7136B609784E835436EB484C54DAAC2B29E121B51396062DD4344FF90F45AE48DF4251BD2B8BCC527AE9B8CA8798975B2AF26FE6A87C24CF21E95956A717C0241FFF462F55F396CB261D920B9B1B5F733830637C1D8CFFB22C7F7448002B737BFB955F3A3A88C92E51893126F91E3567B91C7D49A8320569D26A1EDA1497610A3E74829BECB2F8A4E540DE7499A6227F70CAA248878C3749FECF94C595DE7841A5FF7BB863F5706FA3B8D1F465840E197D8A9B8E5397233A9EF2437C0A6BDBE0E50D2DFA2A8CACF45071A167E5FA8F09C6411106342A4AC4C65038EAEC6B11978B6C770791B8A6489B59E9A3392EE5731179FBB246DAF243F251884B58A89895872425C7B28D9AADB82487BE3692596924356F71191E6D0125A3FA496ACE66B069FC2BC7B0792562D4B702934D012615FF43AED624ADE5625C1E86C1A124DF64D8223AA39463A221CD676D9B2A434AA57939BC2AC628BCD41F1753AB62C4D24AFD95C12C14926BD7E3554D19B17612B3A65329F61D8AA0985457195349C3D640A2F76B4D798FE353CBC8658DDE0E7E462E4D241CDD01A8C9A2D2109FB0804F557BDC3B2A2E25E0435E166C1B1224133C861E739EAADBDCC49BA43ADAB524AA9AB4EE4DDC42047C7CD8BA4851B0011EC2AF3D9865F9FF4F58669A7F8C1EA17F13DFEFD16E8FF09061F4183277EFC8F150C53F2FA7C4CABCBCDFE5B968430C018B19E021C0FBF8C33E08FD5AEE6BC1950F090972EE2C6FDB105B2272EB66FB5A53BA4B624342A5FAEAE3F2038C7621A9E9721FAF01B9C12D934DAF435663CBAB006C531065258DA63FFE13C3CF8F5E7EF81FAF6CCB8A22870000 , N'6.0.0-20911')

